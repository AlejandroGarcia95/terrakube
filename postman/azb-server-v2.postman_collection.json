{
	"info": {
		"_postman_id": "bbee293d-faf0-4cf8-beba-537861e7684a",
		"name": "AzBuilder V2",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "json:api",
			"item": [
				{
					"name": "organization",
					"item": [
						{
							"name": "create organization",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var json = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"organizationId\", json.data.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{device_access_token}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/vnd.api+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"data\": {\r\n    \"type\": \"organization\",\r\n    \"attributes\": {\r\n      \"name\": \"Sample Organization Name\",\r\n      \"description\": \"Sample Organization Description\"\r\n    }\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{server}}/api/v1/organization",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization"
									]
								}
							},
							"response": []
						},
						{
							"name": "search organizations",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "text/html; charset=utf8",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{server}}/api/v1/organization?include=module",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization"
									],
									"query": [
										{
											"key": "include",
											"value": "module"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "search organization by id",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "search organizations with pending jobs",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization?filter=job.status==pending&include=job",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization"
									],
									"query": [
										{
											"key": "filter",
											"value": "job.status==pending"
										},
										{
											"key": "include",
											"value": "job"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "delete organization by id",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "module",
					"item": [
						{
							"name": "definition",
							"item": [
								{
									"name": "parameter",
									"item": [
										{
											"name": "create parameter",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var json = JSON.parse(responseBody);\r",
															"postman.setEnvironmentVariable(\"parameterId\", json.data.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/vnd.api+json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"data\": {\r\n    \"type\": \"parameter\",\r\n    \"attributes\": {\r\n        \"key\": \"parameterKey\",\r\n        \"value\": \"parameterValue\",\r\n        \"parameterType\": \"VARIABLE\"\r\n    },\r\n    \"relationships\":{\r\n        \"definition\":{\r\n            \"data\":{\r\n                \"type\": \"definition\",\r\n                \"id\": \"{{definitionId}}\"\r\n            }\r\n        }\r\n    }\r\n  }\r\n}"
												},
												"url": {
													"raw": "{{server}}/api/v1/parameter",
													"host": [
														"{{server}}"
													],
													"path": [
														"api",
														"v1",
														"parameter"
													]
												}
											},
											"response": []
										},
										{
											"name": "delete parameter",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var json = JSON.parse(responseBody);\r",
															"postman.setEnvironmentVariable(\"parameterId\", json.data.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/vnd.api+json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{server}}/api/v1/parameter/{{parameterId}}",
													"host": [
														"{{server}}"
													],
													"path": [
														"api",
														"v1",
														"parameter",
														"{{parameterId}}"
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "create definition v2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var json = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"definitionId\", json.data.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"definition\",\r\n    \"attributes\": {\r\n        \"type\": \"HTTP\",\r\n        \"status\": \"GENERAL_AVAILABILITY\",\r\n        \"source\": \"https://pocazterrabot.blob.core.windows.net/terraform/main.zip\",\r\n        \"sourceSample\": \"https://pocazterrabot.blob.core.windows.net/terraform/main.zip\",\r\n        \"terraformVersion\": \"0.14.9\"\r\n    },\r\n    \"relationships\":{\r\n        \"module\":{\r\n            \"data\":{\r\n                \"type\": \"module\",\r\n                \"id\": \"{{moduleId}}\"\r\n            }\r\n        }\r\n    }\r\n  }\r\n}"
										},
										"url": {
											"raw": "{{server}}/api/v1/definition",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"definition"
											]
										}
									},
									"response": []
								},
								{
									"name": "search definition v1",
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{server}}/api/v1/module/{{moduleId}}/definition/{{definitionId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"module",
												"{{moduleId}}",
												"definition",
												"{{definitionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "search definition by id",
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{server}}/api/v1/definition/{{definitionId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"definition",
												"{{definitionId}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "create module v2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var json = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"moduleId\", json.data.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/vnd.api+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"data\": {\r\n    \"type\": \"module\",\r\n    \"attributes\": {\r\n      \"name\": \"Sample Module Name\",\r\n      \"description\": \"Sample Module Description\"\r\n    },\r\n    \"relationships\":{\r\n        \"organization\":{\r\n            \"data\":{\r\n                \"type\": \"organization\",\r\n                \"id\": \"{{organizationId}}\"\r\n            }\r\n        }\r\n    }\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{server}}/api/v1/module",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"module"
									]
								}
							},
							"response": []
						},
						{
							"name": "create module v1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var json = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"moduleId\", json.data.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/vnd.api+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"data\": {\r\n    \"type\": \"module\",\r\n    \"attributes\": {\r\n      \"name\": \"Sample Module Name\",\r\n      \"description\": \"Sample Module Description\"\r\n    }\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/module",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"module"
									]
								}
							},
							"response": []
						},
						{
							"name": "search modules v2",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/module",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"module"
									]
								}
							},
							"response": []
						},
						{
							"name": "search modules v1",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/module",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"module"
									]
								}
							},
							"response": []
						},
						{
							"name": "search module by id",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/module/{{moduleId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"module",
										"{{moduleId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "delete module by id",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/module/{{moduleId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"module",
										"{{moduleId}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "workspace",
					"item": [
						{
							"name": "variable",
							"item": [
								{
									"name": "create",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var json = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"variableId\", json.data.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"variable\",\r\n    \"attributes\": {\r\n      \"key\": \"tag_name\",\r\n      \"value\": \"HolaMundo\"\r\n    },\r\n    \"relationships\":{\r\n        \"workspace\":{\r\n            \"data\":{\r\n                \"type\": \"workspace\",\r\n                \"id\": \"{{workspaceId}}\"\r\n            }\r\n        }\r\n    }\r\n  }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{server}}/api/v1/variable",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"variable"
											]
										}
									},
									"response": []
								},
								{
									"name": "search",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/variable/",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"variable",
												""
											]
										}
									},
									"response": []
								},
								{
									"name": "search by id",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/variable/{{variableId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"variable",
												"{{variableId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "delete by id",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/variable/{{variableId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"variable",
												"{{variableId}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "environment",
							"item": [
								{
									"name": "create ARM_CLIENT_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var json = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"environmentClientId\", json.data.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"environment\",\r\n    \"attributes\": {\r\n      \"key\": \"ARM_CLIENT_ID\",\r\n      \"value\": \"{{ARM_CLIENT_ID}}\"\r\n    }\r\n  }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment"
											]
										}
									},
									"response": []
								},
								{
									"name": "delete ARM_CLIENT_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment/{{environmentClientId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment",
												"{{environmentClientId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "create ARM_CLIENT_SECRET",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var json = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"environmentSecretId\", json.data.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"environment\",\r\n    \"attributes\": {\r\n      \"key\": \"ARM_CLIENT_SECRET\",\r\n      \"value\": \"{{ARM_CLIENT_SECRET}}\"\r\n    }\r\n  }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment"
											]
										}
									},
									"response": []
								},
								{
									"name": "delete ARM_CLIENT_SECRET",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment/{{environmentSecretId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment",
												"{{environmentSecretId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "create ARM_SUBSCRIPTION_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var json = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"environmentSubscriptionId\", json.data.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"environment\",\r\n    \"attributes\": {\r\n      \"key\": \"ARM_SUBSCRIPTION_ID\",\r\n      \"value\": \"{{ARM_SUBSCRIPTION_ID}}\"\r\n    }\r\n  }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment"
											]
										}
									},
									"response": []
								},
								{
									"name": "delete ARM_SUBSCRIPTION_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"environment\",\r\n    \"attributes\": {\r\n      \"key\": \"ARM_SUBSCRIPTION_ID\",\r\n      \"value\": \"{{ARM_SUBSCRIPTION_ID}}\"\r\n    }\r\n  }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment/{{environmentSubscriptionId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment",
												"{{environmentSubscriptionId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "create ARM_TENANT_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var json = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"environmentTenantId\", json.data.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"environment\",\r\n    \"attributes\": {\r\n      \"key\": \"ARM_TENANT_ID\",\r\n      \"value\": \"{{ARM_TENANT_ID}}\"\r\n    }\r\n  }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment"
											]
										}
									},
									"response": []
								},
								{
									"name": "delete ARM_TENANT_ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"environment\",\r\n    \"attributes\": {\r\n      \"key\": \"ARM_TENANT_ID\",\r\n      \"value\": \"{{ARM_TENANT_ID}}\"\r\n    }\r\n  }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment/{{environmentTenantId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment",
												"{{environmentTenantId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "search",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment"
											]
										}
									},
									"response": []
								},
								{
									"name": "search by id",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/environment/{{environmentId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"environment",
												"{{environmentId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "delete by id",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/variable/{{environmentId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"variable",
												"{{environmentId}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "secret",
							"item": [
								{
									"name": "create",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"var json = JSON.parse(responseBody);\r",
													"postman.setEnvironmentVariable(\"secretId\", json.data.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/vnd.api+json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"data\": {\r\n    \"type\": \"secret\",\r\n    \"attributes\": {\r\n      \"key\": \"SecretKey\",\r\n      \"value\": \"SecretValue\"\r\n    }\r\n  }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/secret",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"secret"
											]
										}
									},
									"response": []
								},
								{
									"name": "search",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/secret/{{secretId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"secret",
												"{{secretId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "search by id",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/secret/{{secretId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"secret",
												"{{secretId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "delete by id",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}/secret/{{secretId}}",
											"host": [
												"{{server}}"
											],
											"path": [
												"api",
												"v1",
												"organization",
												"{{organizationId}}",
												"workspace",
												"{{workspaceId}}",
												"secret",
												"{{secretId}}"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "create",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var json = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"workspaceId\", json.data.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/vnd.api+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"data\": {\r\n    \"type\": \"workspace\",\r\n    \"attributes\": {\r\n      \"name\": \"Sample Workspace Name\"\r\n    },\r\n    \"relationships\":{\r\n        \"definition\":{\r\n            \"data\":{\r\n                \"type\": \"definition\",\r\n                \"id\": \"{{definitionId}}\"\r\n            }\r\n        }\r\n    }\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"workspace"
									]
								}
							},
							"response": []
						},
						{
							"name": "search",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"workspace"
									]
								}
							},
							"response": []
						},
						{
							"name": "search by id",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"workspace",
										"{{workspaceId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "search by id with definition",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}?include=definition",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"workspace",
										"{{workspaceId}}"
									],
									"query": [
										{
											"key": "include",
											"value": "definition"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "search by id with variables",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}?include=variable",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"workspace",
										"{{workspaceId}}"
									],
									"query": [
										{
											"key": "include",
											"value": "variable"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "search by id with env",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}?include=environment",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"workspace",
										"{{workspaceId}}"
									],
									"query": [
										{
											"key": "include",
											"value": "environment"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "search by id with secrets",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}?include=secret",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"workspace",
										"{{workspaceId}}"
									],
									"query": [
										{
											"key": "include",
											"value": "secret"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "delete by id",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/workspace/{{workspaceId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"workspace",
										"{{workspaceId}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Job",
					"item": [
						{
							"name": "create",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var json = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"jobId\", json.data.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/vnd.api+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"data\": {\r\n    \"type\": \"job\",\r\n    \"attributes\": {\r\n      \"command\": \"apply\"\r\n    },\r\n    \"relationships\":{\r\n        \"workspace\":{\r\n            \"data\":{\r\n                \"type\": \"workspace\",\r\n                \"id\": \"{{workspaceId}}\"\r\n            }\r\n        }\r\n    }\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/job",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"job"
									]
								}
							},
							"response": []
						},
						{
							"name": "update status",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/vnd.api+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"data\": {\r\n    \"type\": \"job\",\r\n    \"id\": \"{{jobId}}\",\r\n    \"attributes\": {\r\n      \"command\": \"plan\",\r\n      \"status\": \"pending\"\r\n    }\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/job/{{jobId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"job",
										"{{jobId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "search",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/job",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"job"
									]
								}
							},
							"response": []
						},
						{
							"name": "search by id",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}/job/{{jobId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}",
										"job",
										"{{jobId}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "delete by id",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{server}}/api/v1/organization/{{organizationId}}",
									"host": [
										"{{server}}"
									],
									"path": [
										"api",
										"v1",
										"organization",
										"{{organizationId}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "swagger",
					"item": [
						{
							"name": "definition",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{device_access_token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/vnd.api+json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"data\": {\r\n    \"type\": \"organization\",\r\n    \"attributes\": {\r\n      \"name\": \"Sample Organization Name\",\r\n      \"description\": \"Sample Organization Description\"\r\n    }\r\n  }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{server}}/doc",
									"host": [
										"{{server}}"
									],
									"path": [
										"doc"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "graphql",
			"item": [
				{
					"name": "organization",
					"item": [
						{
							"name": "create organization v1",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "mutation createOrganization($name: String, $description: String){\r\n    organization(op: UPSERT, data: {name: $name, description: $description}){\r\n        edges{\r\n            node{\r\n                name\r\n                description\r\n            }\r\n        }\r\n    }\r\n}",
										"variables": "{\r\n    \"name\": \"Sample Organization Name\",\r\n    \"description\": \"Sample Organization Description\"\r\n}"
									}
								},
								"url": {
									"raw": "http://localhost:8080/graphql/api/v1",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"graphql",
										"api",
										"v1"
									]
								}
							},
							"response": []
						},
						{
							"name": "search organization",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "{\r\n    organization{\r\n        edges{\r\n            node{\r\n                id\r\n                name\r\n                description\r\n            }\r\n        }\r\n    }\r\n}",
										"variables": ""
									}
								},
								"url": {
									"raw": "http://localhost:8080/graphql/api/v1",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"graphql",
										"api",
										"v1"
									]
								}
							},
							"response": []
						},
						{
							"name": "search organization by id v1",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query organizationByIds ($ids: [String])\r\n{\r\n    organization(ids: $ids){\r\n        edges{\r\n            node{\r\n                id\r\n                name\r\n                description\r\n            }\r\n        }\r\n    }\r\n}",
										"variables": "{  \r\n    \"ids\": [\"{{organizationId}}\"]\r\n}"
									}
								},
								"url": {
									"raw": "http://localhost:8080/graphql/api/v1",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"graphql",
										"api",
										"v1"
									]
								}
							},
							"response": []
						},
						{
							"name": "search organization by id v2",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "{\r\n    organization(ids: [\"{{organizationId}}\"]){\r\n        edges{\r\n            node{\r\n                id\r\n                name\r\n                description\r\n                module{\r\n                    edges{\r\n                        node{\r\n                            id\r\n                            name\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
										"variables": ""
									}
								},
								"url": {
									"raw": "http://localhost:8080/graphql/api/v1",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"graphql",
										"api",
										"v1"
									]
								}
							},
							"response": []
						},
						{
							"name": "search organization with pending jobs",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "query organizationWithPendingJobs ($filter: String)\r\n{\r\n    organization(filter: $filter){\r\n        edges{\r\n            node{\r\n                id\r\n                name\r\n                description\r\n                job{\r\n                    edges{\r\n                        node{\r\n                            id\r\n                            status\r\n                            command\r\n                            workspace{\r\n                                edges{\r\n                                    node{\r\n                                        environment{\r\n                                            edges{\r\n                                                node{\r\n                                                    key\r\n                                                    value\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
										"variables": "{\r\n    \"filter\": \"job.status==pending\"\r\n}"
									}
								},
								"url": {
									"raw": "http://localhost:8080/graphql/api/v1",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"graphql",
										"api",
										"v1"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "module",
					"item": [
						{
							"name": "create module",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "graphql",
									"graphql": {
										"query": "mutation createModule($organizationId: [String], $name: String, $description: String){\r\n    organization(ids: $organizationId){\r\n        edges{\r\n            node{\r\n                module(op: UPSERT, data: {name: $name, description: $description}){\r\n                    edges{\r\n                        node{\r\n                            id\r\n                            name\r\n                            description\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
										"variables": "{\r\n    \"organizationId\": [\"{{organizationId}}\"],\r\n    \"name\": \"Sample Organization Name2\",\r\n    \"description\": \"Sample Organization Description2\"\r\n}"
									}
								},
								"url": {
									"raw": "http://localhost:8080/graphql/api/v1",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"graphql",
										"api",
										"v1"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{device_access_token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}